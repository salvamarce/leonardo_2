<launch>
   <node name="usb_cam" pkg="usb_cam" type="usb_cam_node" output="screen" >
    <param name="video_device" value="/dev/video0" />
    <param name="image_width" value="640" />
    <param name="image_height" value="480" />
    <param name="pixel_format" value="yuyv" />
    <param name="camera_frame_id" value="head_cam" />
    <param name="io_method" value="mmap"/>
    <param name="fps" value="30" />
    <param name="autofocus" value="false" />

  </node>

  <node pkg="tf" type="static_transform_publisher" name="camera_base_link_tf"
              args="0.08 0.0 -0.13 -1.57 3.14 0.0 base_link head_cam 10" />

  <arg name="aruco_markerSize" default="0.50" /> <!-- in meter -->
  <arg name="aruco_ref_frame" default="base_link" /> <!-- leave empty and the pose will be published wrt param parent_name -->
  <arg name="aruco_camera_frame" default="head_cam" />

  <node pkg="aruco_ros" type="marker_publisher" name="aruco_marker_publisher">
          <remap from="/camera_info" to="/usb_cam/camera_info" />
          <remap from="/image" to="/usb_cam/image_raw" />
          <param name="image_is_rectified" value="True"/>
          <param name="marker_size" value="$(arg aruco_markerSize)"/>
          <param name="reference_frame" value="$(arg aruco_ref_frame)"/>  <!--frame in which the marker pose will be refered -->
          <param name="camera_frame" value="$(arg aruco_camera_frame)"/>
  </node>

</launch>
